<odoo>
    <!-- Acción menú -->
    <record id="action_contratos" model="ir.actions.act_window">
        <field name="name">Contratos</field>
        <field name="res_model">contratos.contrato</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">Crea tu primer contrato</p>
        </field>
    </record>

    <!-- Lista -->
    <record id="view_contratos_tree" model="ir.ui.view">
        <field name="name">contrato.tree</field>
        <field name="model">contratos.contrato</field><!-- Nombre del modelo _name -->
        <field name="arch" type="xml">
            <list>
                <field name="display_name"/>
                <field name="ciclo"/>
                <field name="cultivo"/>
                <field name="aporte"/>
            </list>
        </field>
    </record>

    <!-- Vista formulario -->
    <record id="view_contratos_form" model="ir.ui.view">
        <field name="name">contrato.form</field>
        <field name="model">contratos.contrato</field>
        <field name="arch" type="xml">
            <form autosave = "False" string="Generar contrato">
                <sheet>
                    <group>
                        <field name="tipocredito" widget="radio" options="{'horizontal': true}"/>
                        <field name="ciclo"/>
                        <field name="cultivo"
                            required="tipocredito != '2'"
                            invisible="tipocredito == '2'"/>
                        <field name="aporte"
                            required="tipocredito != '2'"
                            invisible="tipocredito == '2'"/>
                    </group>
                    <notebook>
                        <page string="Cargos a contratos">
                            <field name="cargos">
                                <list editable="bottom">
                                    <field name="cargo"/>
                                    <field name = "tipocargo"/>
                                    <field name="descripcion"/>
                                    <field name ="porcentaje" invisible = "tipocargo != '1'"/>
                                    <field name="costo" invisible = "tipocargo == '1'"/>
                                </list>
                            </field>
                        </page>
                        <page string="Límite de Insumos por Hectárea" invisible="tipocredito == '2'">
                            <field name="limiteinsumos">
                                <list editable="bottom">
                                    <field name="producto"/>
                                    <field name="limite"/>
                                </list>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!--record id="view_contratoscargos_form" model="ir.ui.view">
        <field name="name">cargo.form</field>
        <field name="model">contratos.cargo</field>
        <field name="arch" type="xml">
            <form autosave = "false" string="Agregar Cargo">
                <field name = "cargo"/>
                <field name = "tipocargo" readonly = "true"/>
                <field name = "iva" readonly = "true"/>
                <field name = "ieps" readonly = "true"/>
                <field name ="porcentaje" invisible = "tipocargo != '1'"/>
                <field name="costo" invisible = "tipocargo == '1'"/>
            </form>
        </field>
    </record-->


    <!-- Menús -->
    <menuitem id="menu_root" name="contratos"/>
    <menuitem id="menu_action" name="Lista de contratos" parent="menu_root" action="action_contratos"/>
    <!--        <menuitem id="menu_final" name="contratos" parent="menu_action" action="action_contratos"/>-->
</odoo>

