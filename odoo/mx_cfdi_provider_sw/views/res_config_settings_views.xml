<odoo>
  <record id="view_res_config_settings_cfdi_sw" model="ir.ui.view">
    <field name="name">res.config.settings.view.form.cfdi.sw</field>
    <field name="model">res.config.settings</field>
    <field name="inherit_id" ref="base_setup.res_config_settings_view_form"/>
    <field name="arch" type="xml">
      <xpath expr="//form" position="inside">
        <div class="app_settings_block" string="CFDI MX (SW)" data-string="CFDI MX (SW)">
          <h2>CFDI MX (SW)</h2>

          <!-- Conexión -->
          <div class="o_setting_box">
            <div class="o_setting_left_pane">
              <group col="2">
                <field name="mx_cfdi_provider"/>
                <field name="mx_cfdi_sw_sandbox"/>
                <field name="mx_cfdi_sw_base_url" colspan="2" placeholder="https://services.test.sw.com.mx"/>
              </group>
            </div>
            <div class="o_setting_right_pane">
              <label for="mx_cfdi_provider"/>
              <div class="text-muted">Proveedor usado para timbrar (selecciona SW para producción/sandbox).</div>
            </div>
          </div>

          <!-- Credenciales por Token -->
          <div class="o_setting_box">
            <div class="o_setting_left_pane">
              <group col="2">
                <field name="mx_cfdi_sw_token" password="True" colspan="2"/>
              </group>
            </div>
            <div class="o_setting_right_pane">
              <label for="mx_cfdi_sw_token"/>
              <div class="text-muted">Token Bearer de SW. Alternativa: usuario/contraseña.</div>
            </div>
          </div>

          <!-- Credenciales por usuario/contraseña -->
          <div class="o_setting_box">
            <div class="o_setting_left_pane">
              <group col="2">
                <field name="mx_cfdi_sw_user"/>
                <field name="mx_cfdi_sw_password" password="True"/>
              </group>
            </div>
            <div class="o_setting_right_pane">
              <label for="mx_cfdi_sw_user"/>
              <div class="text-muted">Usuario SW (si no usas token).</div>
            </div>
          </div>

          <!-- CSD (PEM) -->
          <div class="o_setting_box">
            <div class="o_setting_left_pane">
              <group col="2">
                <field name="mx_cfdi_sw_rfc"/>
                <field name="mx_cfdi_sw_key_password" password="True"/>
                <field name="mx_cfdi_sw_cer_pem" widget="text" colspan="2"
                       style="min-height:140px; font-family:monospace; white-space:pre;"/>
                <field name="mx_cfdi_sw_key_pem" widget="text" colspan="2"
                       style="min-height:140px; font-family:monospace; white-space:pre;"/>
              </group>
            </div>
            <div class="o_setting_right_pane">
              <label for="mx_cfdi_sw_rfc"/>
              <div class="text-muted">Carga CSD en PEM. Password de prueba: 12345678a.</div>
            </div>
          </div>

        </div>
      </xpath>
    </field>
  </record>
</odoo>
